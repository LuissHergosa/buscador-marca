# Development Dockerfile for Frontend with Hot Reloading
FROM oven/bun:1

WORKDIR /app

# Install dependencies first (better caching)
COPY package.json bun.lock ./
RUN bun install --frozen-lockfile

# Copy configuration files
COPY tailwind.config.js postcss.config.js ./
COPY tsconfig*.json ./
COPY vite.config.ts ./
COPY components.json ./

# Copy source code (this will be overridden by volumes in development)
COPY src/ ./src/
COPY public/ ./public/
COPY index.html ./

# Expose Vite dev server port
EXPOSE 5173

# Start the development server with hot reloading
# --host 0.0.0.0 allows access from outside container
# --port 5173 explicit port specification
CMD ["bun", "run", "dev", "--host", "0.0.0.0", "--port", "5173"]
